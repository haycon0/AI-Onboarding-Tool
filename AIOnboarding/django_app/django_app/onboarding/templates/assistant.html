<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }
        
        .container {
            width: 100%;
            height: 100%;
        }
        
        #chainlit-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <iframe 
            id="chainlit-iframe"
            name="chainlit-frame"
            src="http://localhost:8001">
        </iframe>
    </div>
        
        // Data you want to send from Django
        const userData = {
            user_name: "conhay",//"{{ request.user.username }}",  // Django Template Variable
            role: "Attorney",
            case_id: "CASE-2026-001"
        };

        // Wait for the iframe to fully load before sending
        iframe.onload = function() {
            // We use '*' for development, but in prod use "https://your-agent-url.com" for security
            iframe.contentWindow.postMessage(
                { type: "LOGIN_DATA", payload: userData }, 
                "*" 
            );
        };
    </script>
</body>
</html>
